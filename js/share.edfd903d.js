(function(t){function e(e){for(var a,r,i=e[0],l=e[1],u=e[2],c=0,f=[];c<i.length;c++)r=i[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);p&&p(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},r={share:0},o={share:0},s=[];function i(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-707d1e16":"8ea9ca0d"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={"chunk-707d1e16":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-707d1e16":"897ede19"}[t]+".css",o=l.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===a||c===o))return e()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){u=f[i],c=u.getAttribute("data-href");if(c===a||c===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],p.parentNode.removeChild(p),n(s)},p.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=i(t);var f=new Error;u=function(e){c.onerror=c.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}o[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/wec-counselor-leave-apps/leave/",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var p=c;s.push([1,"chunk-vendors","chunk-common"]),n()})({1:function(t,e,n){t.exports=n("c72c")},c72c:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("3264"),o=n("3a2e"),s=n("8c4f"),i=(n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-share flex-col flex-1 h-screen overflow-hidden"},[t.isEmpty?n("cat-empty",{attrs:{"empty-text":t.emptyText}}):[n("div",{staticClass:"flex-col flex-1 ios-touch-scroll"},[t.statusFlag&&"1"!==t.statusFlag?n("CatStatusFlag",{staticClass:"no-shrink",attrs:{text:t.nowTime,flag:t.statusFlag},on:{"show-info":t.showInfoModal}}):t._e(),n("CatStatusShow",{staticClass:"no-shrink",attrs:{info:t.info,"is-shared":t.isShared,status:t.approveStatus}}),n("CatFlowLeaveMeta",{staticClass:"no-shrink",attrs:{info:t.info,"not-out-report":t.notOutReport}}),t._l(t.successInfo,(function(e){return n("CatLeaveDetail",{key:e.id,staticClass:"my-10",attrs:{my:!0,"show-title":!0,info:e,"flow-biz":t.flowBiz,"is-shared":t.isShared,"need-approval":t.needApproval,"approve-nodes":t.getApproveNodes(t.approversMain)}})})),t._l(t.successLeaveExtends,(function(e,a){return n("CatExtendDetail",{key:a,staticClass:"mb-10",attrs:{my:!0,"show-title":!0,"is-click-location":!1,info:e,"flow-biz":t.flowBiz,"is-shared":t.isShared,"need-approval":t.needApproval,"approve-nodes":t.getApproveNodes(e.approvers)}})})),t.isTerminatedEarly?n("div",{staticClass:"py-10 font-12 bg-white px-20 my-10 hairline-t hairline-b"},[n("div",{staticClass:"font-dark font-14 mb-10"},[t._v(" 提前结束信息 ")]),n("div",{staticClass:"flex mb-5 font-12 ai-center"},[n("div",{staticClass:"font-light no-shrink row-label"},[t._v(" 操作人： ")]),n("div",{staticClass:"font-normal flex-1"},[t._v(" "+t._s(t.terminationInfo.terminationObjectName||"")+" ")])]),n("div",{staticClass:"flex mb-5 font-12 ai-center"},[n("div",{staticClass:"font-light no-shrink row-label"},[t._v(" 操作时间： ")]),n("div",{staticClass:"font-normal flex-1"},[t._v(" "+t._s(t.terminationInfo.terminationDate||"")+" ")])]),n("div",{staticClass:"flex mb-5 font-12 ai-start"},[n("div",{staticClass:"font-light no-shrink row-label"},[t._v(" 原因： ")]),n("div",{staticClass:"font-normal flex-1"},[t._v(" "+t._s(t.terminationInfo.terminationReason||"")+" ")])])]):t._e(),t.isComplete?n("CatCompleteInfo",{staticClass:"bg-white px-20 py-10 mb-10 hairline-b hairline-t",attrs:{info:t.info}}):t._e()],2),n("transition",{attrs:{name:"van-fade"}},[n("CatPersonalModal",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"w-screen h-screen absolute pin-l pin-t",attrs:{info:t.studentInfo},on:{close:t.closeModal}})],1)]],2)}),l=[],u=(n("99af"),n("4de4"),n("4160"),n("159b"),n("96cf"),n("1da1")),c=(n("0981"),n("c064")),f=n("3b03"),p=n("5a0c"),d=n.n(p),h=(n("ac1f"),n("5319"),n("1276"),n("fa78")),v=n("8364"),m={2210070006:"已被发布者删除、撤回"};h["a"].use("response",(function(t){var e=t.code,n=m[e];return n&&G.replace({path:"/page-empty",query:{errorText:n}}),t}));var E=Object(v["c"])("/leave/stu/jssdk/queryConfig");function b(){return h["a"].post(E,{url:window.location.href.split("#")[0]})}var w=Object(v["c"])("leave/share/detail");function g(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h["a"].post.apply(h["a"],[w].concat(e))}var y=n("3abe"),x=n("6a6f"),C=n("1024"),S=n("cc83"),O=n("d115"),T=n("0579"),j=n("0efe"),I=n("09d0"),P=n("fa7d"),k={components:{CatStatusFlag:C["a"],CatStatusShow:S["a"],CatFlowLeaveMeta:O["a"],CatExtendDetail:T["a"],CatLeaveDetail:j["a"],CatCompleteInfo:I["a"],CatEmpty:c["a"],CatPersonalModal:y["a"]},data:function(){return{isShared:!0,leaveId:"",info:{},statusFlag:null,terminationInfo:{allowTerminate:0,terminated:0,terminationObjectName:"",terminationReason:""},notOutReport:{operatorDate:null,operatorId:null,operatorName:null,operatorWid:null,rule:0,setedNotOutReport:0},isAllowedExtend:!1,isReport:"0",isOpenExt:"0",leaveExtends:[],flowBiz:!0,approvers:[],approversMain:null,isEmpty:!1,emptyText:"暂无数据",nowTime:"",needApproval:null,show:!1,studentInfo:{}}},computed:{terminatedEarlyStatus:function(){return this.terminationInfo.terminated},isTerminatedEarly:function(){return this.terminatedEarlyStatus===x["c"].TERMINATED.YES},successInfo:function(){return this.info.status===x["a"].PROCESSING||this.info.status===x["a"].COMPLETE?[this.info]:[]},successLeaveExtends:function(){return this.leaveExtends.filter((function(t){return t.status===x["a"].PROCESSING||t.status===x["a"].COMPLETE||t.status===x["a"].REJECT}))},leaveStatus:function(){return this.info.status},lastExt:function(){var t=this.leaveExtends.length;return t>0?this.leaveExtends[t-1]:null},lastExtStatus:function(){return this.lastExt?this.lastExt.status:null},haveExt:function(){return this.leaveExtends.length>0},approveStatus:function(){var t=this.info.status;return t===x["a"].COMPLETE||t===x["a"].EXCEED?t:this.lastExtStatus||t},visDesBtn:function(){return"1"===this.isReport},isComplete:function(){return this.leaveStatus===x["a"].COMPLETE},isPending:function(){return this.leaveStatus===x["a"].PENDING||this.lastExtStatus===x["a"].PENDING},isProcessing:function(){return this.leaveStatus===x["a"].PROCESSING},isLeaveReject:function(){return this.leaveStatus===x["a"].REJECT},isExtReject:function(){return this.lastExtStatus===x["a"].REJECT},statusInfo:function(){return x["b"][this.approveStatus]||{}},extBtnText:function(){return this.isExtReject?"重新申请续假":"申请续假"},hideBottom:function(){return{"bottom-0":!this.isLeaveReject&&!this.isPending}}},created:function(){this.initPage()},methods:{showInfoModal:function(){this.show=!0},closeModal:function(){this.show=!1},getApproveNodes:function(t){return t&&t.filter((function(t){return t.approveNode.length>0&&!!t.approveNode[0].nodeWid}))},getNowTime:function(t){var e=this,n=d()(t).valueOf();setInterval((function(){n+=1e3,e.nowTime="当前时间:".concat(Object(P["b"])(n,"yyyy-MM-dd hh:mm:ss"))}),1e3)},initPage:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(P["c"])(),t.needApproval="0"===n.needApproval||0===n.needApproval?0:1,Object(f["e"])(),e.next=5,g(n);case 5:if(a=e.sent,r=a.data,o=a.code,Object(f["b"])(),"2210060000"!==o){e.next=13;break}return t.isEmpty=!0,t.emptyText="暂无数据",e.abrupt("return");case 13:t.info=r.detail||{},t.studentInfo=r.studentInfo||{},s=r.nowTime||new Date,t.nowTime="当前时间:".concat(Object(P["b"])(s,"yyyy-MM-dd hh:mm:ss")),t.getNowTime(s),t.statusFlag=r.recordStatus||"",t.notOutReport=r.notOutReport||{},t.terminationInfo=r.termination||{},t.leaveExtends=r.leaveExtends||[],t.isOpenExt=r.isExtend,t.isReport=r.isReport,t.isAllowedExtend=r.isAllowedExtend,t.approversMain=r.detail.approvers,i=[],i=i.concat(r.detail.approvers),t.leaveExtends.forEach((function(t){t.approvers.forEach((function(t){t.extend=!0})),i=i.concat(t.approvers)})),t.approvers=i;case 30:case"end":return e.stop()}}),e)})))()}}},_=k,N=n("2877"),M=Object(N["a"])(_,i,l,!1,null,null,null),R=M.exports,A=n("08ff"),L=n("3217"),D=n("5500"),B={mode:"hash",base:"/wec-counselor-leave-apps/leave/",routes:[{path:"/",component:R,meta:{title:"分享"}},{path:"/map/:lon/:lat/:address",component:A["a"],meta:{title:"发起位置"}},{path:"/page-empty",meta:{title:"出错啦"},name:"empty",component:function(){return n.e("chunk-707d1e16").then(n.bind(null,"9af1"))}},{path:"/choosePeople",meta:{title:"抄送人"},component:L["a"]},{path:"/chooseSelected",meta:{title:"抄送人"},component:D["a"]}]},F=n("b9e7");a["a"].use(s["a"]);var z=new s["a"](B);Object(F["a"])(z,b);var G=z,J=n("334b"),q=n("2371");Object(o["l"])(),Object(o["n"])(),a["a"].prototype.$EventBus=new a["a"],a["a"].directive("scroll",r["default"]),a["a"].config.productionTip=!1,new a["a"]({router:G,store:J["a"],render:function(t){return t(q["a"])}}).$mount("#app")}});
//# sourceMappingURL=share.edfd903d.js.map